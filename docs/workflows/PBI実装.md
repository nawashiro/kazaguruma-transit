# PBI 実装

<workflow>
1. ./docs/knowledge/JIRA.mdを読んでアクティブかつTODOステータスのPBIを取得する。必要に応じてMCPを実行する。
2. 優先順位の高いPBIを1つ選択する。
3. 選択したPBIのステータスを「進行中」に更新する。
4. 選択したPBIについて以下の情報をまとめる：
   1. PBIタイトル
   2. PBI URL
   3. 実装内容の詳細
   4. 受け入れ基準
   5. 技術的な考慮事項
5. コメントを取得し、参考情報としてまとめる。
6. 実装計画を立てる：
   1. 変更が必要なファイルのリスト
   2. 実装手順
   3. テスト計画
7. コードベースを調査し、実装に必要な変更箇所を特定する。
8. テスト駆動開発の手法に従い、まずテストコードを作成する。
9. テストが失敗することを確認後、実装コードを作成する。
10. テストが成功することを確認する。
11. 必要に応じてリファクタリングを行う。
12. 実装が完了したらレビューのためにユーザーに確認を依頼する。
13. レビューで指摘された修正点があれば対応する。
14. 最終的な実装を「チケットID-コミットメッセージ」でコミットし、JIRAのPBIステータスを「レビュー待ち」に更新する。
</workflow>

## 注意点

1. 実装前に必ず PBI の内容と受け入れ基準を十分に理解すること。
2. テスト駆動開発の原則に従い、テストファーストで進めること。
3. TypeScript の型システムを適切に活用し、型安全なコードを書くこと。
4. クライアントのスタイリングには daisyUI を使用すること。
5. transit ライブラリや gtfs ライブラリを使用する場合は、必ずドキュメントを参照すること。
6. console.log の代わりに logger.log を使用すること。
7. npm run dev を実行する前に、既存の Node プロセスを kill すること。
8. コマンドは&&を使わず、一つずつ実行すること（PowerShell の制約）。
9. マルチバイト文字の文字化けは仕様であることを理解しておくこと。
